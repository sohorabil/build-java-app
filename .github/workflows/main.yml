name: build java Application
on:
 push:
  branches:
   - master
jobs:
  buildjob:
   runs-on: ubuntu-latest
   steps:
    - name: Clone the repo
      uses: actions/checkout@v4
    - name: Install java 17
      uses: actions/setup-java@v4
      with:
       java-version: '17'
       distribution: 'temurin'
       cache: maven
  dockerbuild:
   runs-on: ubuntu-latest
   steps:
     - name: build the java code
       run: mvn clean install package
     - name: Build Docker image
       run: docker build -t hello-world-image . # Build the Docker image from the Dockerfile in the current directory, tagging it as 'hello-world-image'
     - name: Run Docker container
       run: docker run hello-world-image # Run a container from the built image
